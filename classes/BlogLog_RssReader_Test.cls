@istest
public class BlogLog_RssReader_Test{

    static testmethod void simpleTest() {
        System.debug('^^^^ Looking for simple sample.');        
        List<Blog_Entry__c> entries = new BlogLog_RssReader().read(sample);
        System.assert(entries.size()==1);
        Blog_Entry__c item = entries.get(0);
        System.assertEquals('Sample Post Happy Robot Monkey', item.Title__c);
        System.assertEquals('http://reidcarlberg.com/2014/01/31/sample-post-happy-robot-monkey/', item.Link__c);
        System.assertEquals('Reid Carlberg', item.Author__c);
        System.assertEquals('Uncategorized', item.Category__c);
        System.assertEquals('Yeah, so this is a s', item.Lead_Copy__c.substring(0,20));
        System.assert(item.Published__c != null);
        System.assertEquals(Date.newInstance(2014,01,31), item.Published__c);
    }
    
    static testmethod void simpleTestTwo() {
        System.debug('^^^^ Looking for two.');
        List<Blog_Entry__c> entries = new BlogLog_RssReader().read(sampleTwoItems);
        System.assertEquals(entries.size(),2);
    }    
    
    static testmethod void simpleTestDfc() {
        System.debug('^^^^ Looking for DFC.');
        List<Blog_Entry__c> entries = new BlogLog_RssReader().read(dfcSample);
        System.assert(entries.size()==1);
        Blog_Entry__c item = entries.get(0);
        System.assertEquals('My Top 5 Reasons to Attend ELEVATE London, March 21st', item.Title__c);
        System.assertEquals('http://blogs.developerforce.com/developer-relations/2014/02/my-five-reasons-to-attend-elevate-london-march-21st.html', item.Link__c);
        System.assertEquals('ekleinmann', item.Author__c);
        System.assert(item.Lead_Copy__c != null);
        System.assertEquals('Uncategorized, developer, elevate london, platform, salesforce, salesforce1', item.Category__c);  
        System.assertEquals(Date.newInstance(2014,02,27), item.Published__c);        
    }    
    
    public static String sample = ''
+'<rss xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:wfw="http://wellformedweb.org/CommentAPI/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:sy="http://purl.org/rss/1.0/modules/syndication/" xmlns:slash="http://purl.org/rss/1.0/modules/slash/" xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" xmlns:media="http://search.yahoo.com/mrss/" version="2.0">\n'
+'<channel>\n'
+'<title>Happy Robot Monkey</title>\n'
+'<atom:link href="http://reidcarlberg.com/feed/" rel="self" type="application/rss+xml"/>\n'
+'<link>http://reidcarlberg.com</link>\n'
+'<description>Reid Carlberg</description>\n'
+'<lastBuildDate>Thu, 27 Feb 2014 23:36:12 +0000</lastBuildDate>\n'
+'<language>en</language>\n'
+'<sy:updatePeriod>hourly</sy:updatePeriod>\n'
+'<sy:updateFrequency>1</sy:updateFrequency>\n'
+'<generator>http://wordpress.com/</generator>\n'
+'<cloud domain="reidcarlberg.com" port="80" path="/?rsscloud=notify" registerProcedure="" protocol="http-post"/>\n'
+'<image>\n'
+'<url>http://s2.wp.com/i/buttonw-com.png</url>\n'
+'<title>Happy Robot Monkey</title>\n'
+'<link>http://reidcarlberg.com</link>\n'
+'</image>\n'
+'<atom:link rel="search" type="application/opensearchdescription+xml" href="http://reidcarlberg.com/osd.xml" title="Happy Robot Monkey"/>\n'
+'<atom:link rel="hub" href="http://reidcarlberg.com/?pushpress=hub"/>\n'
+'<item>\n'
+'<title>Sample Post Happy Robot Monkey</title>\n'
+'<link>\n'
+'http://reidcarlberg.com/2014/01/31/sample-post-happy-robot-monkey/\n'
+'</link>\n'
+'<comments>\n'
+'http://reidcarlberg.com/2014/01/31/sample-post-happy-robot-monkey/#comments\n'
+'</comments>\n'
+'<pubDate>Fri, 31 Jan 2014 16:21:42 +0000</pubDate>\n'
+'<dc:creator>\n'
+'<![CDATA[ Reid Carlberg ]]>\n'
+'</dc:creator>\n'
+'<category>\n'
+'<![CDATA[ Uncategorized ]]>\n'
+'</category>\n'
+'<guid isPermaLink="false">http://reidcarlberg.com/?p=2454</guid>\n'
+'<description>\n'
+'<![CDATA[\n'
+'Yeah, so this is a sample post.<img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=reidcarlberg.com&#038;blog=17136595&#038;post=2454&#038;subd=reidcarlberg&#038;ref=&#038;feed=1" width="1" height="1" />\n'
+']]>\n'
+'</description>\n'
+'<content:encoded>\n'
+'<![CDATA[\n'
+'<p>Yeah, so this is a sample post.</p><br /> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/reidcarlberg.wordpress.com/2454/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/reidcarlberg.wordpress.com/2454/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=reidcarlberg.com&#038;blog=17136595&#038;post=2454&#038;subd=reidcarlberg&#038;ref=&#038;feed=1" width="1" height="1" />\n'
+']]>\n'
+'</content:encoded>\n'
+'<wfw:commentRss>\n'
+'http://reidcarlberg.com/2014/01/31/sample-post-happy-robot-monkey/feed/\n'
+'</wfw:commentRss>\n'
+'<slash:comments>0</slash:comments>\n'
+'<media:content url="http://1.gravatar.com/avatar/11c64463ab809441c83add904bdd20ec?s=96&amp;d=identicon&amp;r=G" medium="image">\n'
+'<media:title type="html">reidcarlberg</media:title>\n'
+'</media:content>\n'
+'</item>\n'
+'</channel>\n'
+'</rss>\n';

public static String dfcSample = ''
+'<?xml version="1.0" encoding="UTF-8"?>\n'
+'<?xml-stylesheet type="text/xsl" media="screen" href="/~d/styles/rss2full.xsl"?><?xml-stylesheet type="text/css" media="screen" href="http://feeds.feedburner.com/~d/styles/itemcontent.css"?><rss xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:wfw="http://wellformedweb.org/CommentAPI/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:sy="http://purl.org/rss/1.0/modules/syndication/" xmlns:slash="http://purl.org/rss/1.0/modules/slash/" xmlns:feedburner="http://rssnamespace.org/feedburner/ext/1.0" version="2.0">\n'
+'<channel>\n'
+'  <title>Developer Relations</title>\n'
+'  \n'
+'  <link>http://blogs.developerforce.com/developer-relations</link>\n'
+'  <description>Tips, tricks and techniques from Salesforce Developers</description>\n'
+'  <lastBuildDate>Mon, 03 Mar 2014 18:30:14 +0000</lastBuildDate>\n'
+'  <language>en-US</language>\n'
+'  <sy:updatePeriod>hourly</sy:updatePeriod>\n'
+'  <sy:updateFrequency>1</sy:updateFrequency>\n'
+'  \n'
+'      <atom10:link xmlns:atom10="http://www.w3.org/2005/Atom" rel="self" type="application/rss+xml" href="http://feeds.feedburner.com/developerforce/developerelations" /><feedburner:info uri="developerforce/developerelations" /><atom10:link xmlns:atom10="http://www.w3.org/2005/Atom" rel="hub" href="http://pubsubhubbub.appspot.com/" />\n'
+'      <item>\n'
+'      <title>My Top 5 Reasons to Attend ELEVATE London, March 21st</title>\n'
+'      <link>http://feedproxy.google.com/~r/developerforce/developerelations/~3/aHmIOkt5uoU/my-five-reasons-to-attend-elevate-london-march-21st.html</link>\n'
+'      <comments>http://blogs.developerforce.com/developer-relations/2014/02/my-five-reasons-to-attend-elevate-london-march-21st.html#comments</comments>\n'
+'      <pubDate>Thu, 27 Feb 2014 17:21:33 +0000</pubDate>\n'
+'      <dc:creator>ekleinmann</dc:creator>\n'
+'              <category><![CDATA[Uncategorized]]></category>\n'
+'      <category><![CDATA[developer]]></category>\n'
+'      <category><![CDATA[elevate london]]></category>\n'
+'      <category><![CDATA[platform]]></category>\n'
+'      <category><![CDATA[salesforce]]></category>\n'
+'      <category><![CDATA[salesforce1]]></category>\n'
+'\n'
+'      <guid isPermaLink="false">http://blogs.developerforce.com/developer-relations/?p=50281</guid>\n'
+'      <description><![CDATA[<a href="http://blogs.developerforce.com/developer-relations/2014/02/my-five-reasons-to-attend-elevate-london-march-21st.html"><img align="left" hspace="5" width="150" src="http://res.cloudinary.com/hzxejch6p/image/upload/v1393521132/Picture1_wwjrxg.png" class="alignleft wp-post-image tfe" alt="" title="  Salesforce Development Knowledge" /></a>The Salesforce ELEVATE workshops are being constantly updated and improved by the Salesforce Developer Relations, Evangelist and Training teams. Simon shares his top five reasons to consider attending]]></description>\n'
+'              <content:encoded><![CDATA[<p dir="ltr"><em>By Simon Lawrence, </em><em>Cloud Applications Developer, Desynit, </em><em>Salesforce Enthusiast</em></p>\n'
+'<p dir="ltr"><strong>1. Gather lots of Salesforce Development Knowledge, in not a lot of time</strong></p>\n'
+'<p><img class="alignleft wp-image-50301" title="  Salesforce Development Knowledge" alt="" src="http://res.cloudinary.com/hzxejch6p/image/upload/v1393521132/Picture1_wwjrxg.png" width="102" height="102" />One great thing about the <a href="https://events.developerforce.com/events/workshops/elevate-london?d=70130000000N2Fd">ELEVATE events</a> is they concurrently provide two great, non-stop tracks of workshops for Salesforce developers. Both kick straight off in the morning and pack a huge amount of knowledge and experience into the day, before wrapping up at the usual work close of play. This means you haven’t had to sacrifice half a working week for some hotel-based training course that seems to be more “ice breakers” than hands-on learning.</p>\n'
+'<p>&nbsp;</p>\n'
+'<p dir="ltr"><strong>2. Get up-to-date and super-relevant information</strong></p>\n'
+'<p><img class="alignright" alt="" src="https://lh3.googleusercontent.com/iEkE_bjc0GDolWxgb8mq9uTggDjpwwSWwMh19jBjZM2y5DPN8EkEJrmKlqZ9JjXtDX3a7K-bGdOECJ2wQh3lCLTrzXoGp3l8a5yFloV7xlFMZtIcYcm7vtePxA" width="131px;" height="131px;" /></p>\n'
+'<p dir="ltr">The ELEVATE workshops are being constantly developed by the Salesforce Developer Relations, Evangelist and Training teams. With Salesforce being one of the fastest developing PaaS enterprises in the world, there is no point in only setting a learning curriculum once a year&#8230; the entire platform will have had three updates by then! ELEVATE London is the first round of  ELEVATE events to have the latest Salesforce 1 features baked in, getting the work you undertake on the day straight out to mobile devices.</p>\n'
+'<p>&nbsp;</p>\n'
+'<p dir="ltr"><strong>3. Take no risks in trying something new</strong></p>\n'
+'<p><img class="alignleft" alt="" src="https://lh5.googleusercontent.com/aetCym_MDyTwvUt4zsYuzp7fiahF6wQn7OEyVk5K_1J4MNK53yG8P4gzy-5nnbfwe8Fa_v-H_6cFzUVFsw3sDcCxU5sQd5WZa4bE-ejVJBNtuzfmmG4iTkpg6A" width="120px;" height="85px;" /></p>\n'
+'<p dir="ltr">If you are new to development, new to Salesforce, or heavily involved in Salesforce but have never rolled your sleeves up and seen how everything works under the bonnet &#8211; ELEVATE is the perfect one day stop to find out more about this exciting platform. Attendance at Elevate is as free as filling in the registration form!</p>\n'
+'<p>&nbsp;</p>\n'
+'<p dir="ltr">At the end of this one day course you will have an understanding and an appreciation for a new technology. If you are already a familiar Salesforce.com developer and attend the Advanced track you will leave with some unique and useful insights into developing with the awesome new Salesforce 1.</p>\n'
+'<p>&nbsp;</p>\n'
+'<p dir="ltr"><strong>4. Meet your fellow developers and members of the Salesforce Evangelism team</strong></p>\n'
+'<p>&nbsp;</p>\n'
+'<p dir="ltr"><img class="alignright" alt="" src="https://lh5.googleusercontent.com/Z9DWE64alLONoo6h7CkWsteNnviB3AsjM5gGTjBmnkiHY1g-aBhMJVaxgX9unqunQZ5cHxKEaK16t9SZ6urRfDS7IBNjP8w5PsUomNOWy0d5swWN_ds0cFOOrg" width="160px;" height="120px;" />One of the biggest take aways we noticed at ELEVATE Bristol in 2013 was how well the groups of attendees blended and networked, right through the day. The sessions are very hands on, with lots of time for following the workbooks and interacting with the track supervisors. Very quickly you will find yourself deep in conversation with the people around you as well, working towards the same goal, with a common interest in succeeding. I really wouldn’t be surprised if there was trip to the pub after ELEVATE has concluded as well!</p>\n'
+'<p>&nbsp;</p>\n'
+'<p dir="ltr"><strong>5. Get a free day of learning, a free lunch, some free books and take away a free working prototype</strong></p>\n'
+'<p><img class="alignleft" alt="" src="https://lh6.googleusercontent.com/dwgeAlxs565mDZbnOsjicLenM8Zc8os5D-m5tEIHt0LM0cGQMH0oxeeqAaGCJITUyqzNGuX7w1EB0MUHw-jlahYyvafHSHAKLOW4aa4-bU2iFjBK3x8rjTsmZw" width="93px;" height="131px;" />Did I mention that there is no charge for attending <a href="https://events.developerforce.com/events/workshops/elevate-london?d=70130000000N2Fd">ELEVATE London</a>? Other than the day away from your desk, and a little wear-and-tear on your laptop keyboard, your company has no excuse not to let you attend if you so wish. Everything from the coffee in the morning, to the workbooks you get to take away at the end is provided by Salesforce.com. The best bit is as well &#8211; because you will be working on a world leading Cloud PaaS, everything you develop through the day goes home with you too! So you can head back to your free developer account and log in to your application whenever you want, to show it to your colleagues, your boss, your partner or your local Landlord; you can even continue developing on it, so if you are so inspired by the workshops to carry on with the example scenarios.</p>\n'
+'<p>&nbsp;</p>\n'
+'<p><a href="https://events.developerforce.com/events/workshops/elevate-london?d=70130000000N2Fd">Register here !</a></p>\n'
+'<p dir="ltr">\n'
+'<img src="http://feeds.feedburner.com/~r/developerforce/developerelations/~4/aHmIOkt5uoU" height="1" width="1"/>]]></content:encoded>\n'
+'          <wfw:commentRss>http://blogs.developerforce.com/developer-relations/2014/02/my-five-reasons-to-attend-elevate-london-march-21st.html/feed</wfw:commentRss>\n'
+'      <slash:comments>0</slash:comments>\n'
+'      <feedburner:origLink>http://blogs.developerforce.com/developer-relations/2014/02/my-five-reasons-to-attend-elevate-london-march-21st.html</feedburner:origLink></item>\n'
+'  </channel>\n'
+'</rss>\n';
    
    static String sampleTwoItems = ''
+'<rss xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:wfw="http://wellformedweb.org/CommentAPI/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:sy="http://purl.org/rss/1.0/modules/syndication/" xmlns:slash="http://purl.org/rss/1.0/modules/slash/" xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" xmlns:media="http://search.yahoo.com/mrss/" version="2.0">\n'
+'<channel>\n'
+'<title>Happy Robot Monkey</title>\n'
+'<atom:link href="http://reidcarlberg.com/feed/" rel="self" type="application/rss+xml"/>\n'
+'<link>http://reidcarlberg.com</link>\n'
+'<description>Reid Carlberg</description>\n'
+'<lastBuildDate>Thu, 27 Feb 2014 23:36:12 +0000</lastBuildDate>\n'
+'<language>en</language>\n'
+'<sy:updatePeriod>hourly</sy:updatePeriod>\n'
+'<sy:updateFrequency>1</sy:updateFrequency>\n'
+'<generator>http://wordpress.com/</generator>\n'
+'<cloud domain="reidcarlberg.com" port="80" path="/?rsscloud=notify" registerProcedure="" protocol="http-post"/>\n'
+'<image>\n'
+'<url>http://s2.wp.com/i/buttonw-com.png</url>\n'
+'<title>Happy Robot Monkey</title>\n'
+'<link>http://reidcarlberg.com</link>\n'
+'</image>\n'
+'<atom:link rel="search" type="application/opensearchdescription+xml" href="http://reidcarlberg.com/osd.xml" title="Happy Robot Monkey"/>\n'
+'<atom:link rel="hub" href="http://reidcarlberg.com/?pushpress=hub"/>\n'
+'<item>\n'
+'<title>Sample Post Happy Robot Monkey</title>\n'
+'<link>\n'
+'http://reidcarlberg.com/2014/01/31/sample-post-happy-robot-monkey/\n'
+'</link>\n'
+'<comments>\n'
+'http://reidcarlberg.com/2014/01/31/sample-post-happy-robot-monkey/#comments\n'
+'</comments>\n'
+'<pubDate>Fri, 31 Jan 2014 16:21:42 +0000</pubDate>\n'
+'<dc:creator>\n'
+'<![CDATA[ Reid Carlberg ]]>\n'
+'</dc:creator>\n'
+'<category>\n'
+'<![CDATA[ Uncategorized ]]>\n'
+'</category>\n'
+'<guid isPermaLink="false">http://reidcarlberg.com/?p=2454</guid>\n'
+'<description>\n'
+'<![CDATA[\n'
+'Yeah, so this is a sample post.<img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=reidcarlberg.com&#038;blog=17136595&#038;post=2454&#038;subd=reidcarlberg&#038;ref=&#038;feed=1" width="1" height="1" />\n'
+']]>\n'
+'</description>\n'
+'<content:encoded>\n'
+'<![CDATA[\n'
+'<p>Yeah, so this is a sample post.</p><br /> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/reidcarlberg.wordpress.com/2454/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/reidcarlberg.wordpress.com/2454/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=reidcarlberg.com&#038;blog=17136595&#038;post=2454&#038;subd=reidcarlberg&#038;ref=&#038;feed=1" width="1" height="1" />\n'
+']]>\n'
+'</content:encoded>\n'
+'<wfw:commentRss>\n'
+'http://reidcarlberg.com/2014/01/31/sample-post-happy-robot-monkey/feed/\n'
+'</wfw:commentRss>\n'
+'<slash:comments>0</slash:comments>\n'
+'<media:content url="http://1.gravatar.com/avatar/11c64463ab809441c83add904bdd20ec?s=96&amp;d=identicon&amp;r=G" medium="image">\n'
+'<media:title type="html">reidcarlberg</media:title>\n'
+'</media:content>\n'
+'</item>\n'
+'<item>\n'
+'<title>Two Sample Post Happy Robot Monkey</title>\n'
+'<link>\n'
+'http://reidcarlberg.com/2014/01/31/two-sample-post-happy-robot-monkey/\n'
+'</link>\n'
+'<comments>\n'
+'http://reidcarlberg.com/2014/01/31/sample-post-happy-robot-monkey/#comments\n'
+'</comments>\n'
+'<pubDate>Fri, 31 Jan 2014 16:21:42 +0000</pubDate>\n'
+'<dc:creator>\n'
+'<![CDATA[ Reid Carlberg ]]>\n'
+'</dc:creator>\n'
+'<category>\n'
+'<![CDATA[ Uncategorized ]]>\n'
+'</category>\n'
+'<guid isPermaLink="false">http://reidcarlberg.com/?p=2454</guid>\n'
+'<description>\n'
+'<![CDATA[\n'
+'Two Yeah, so this is a sample post.<img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=reidcarlberg.com&#038;blog=17136595&#038;post=2454&#038;subd=reidcarlberg&#038;ref=&#038;feed=1" width="1" height="1" />\n'
+']]>\n'
+'</description>\n'
+'<content:encoded>\n'
+'<![CDATA[\n'
+'<p>Yeah, so this is a sample post.</p><br /> <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/reidcarlberg.wordpress.com/2454/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/reidcarlberg.wordpress.com/2454/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=reidcarlberg.com&#038;blog=17136595&#038;post=2454&#038;subd=reidcarlberg&#038;ref=&#038;feed=1" width="1" height="1" />\n'
+']]>\n'
+'</content:encoded>\n'
+'<wfw:commentRss>\n'
+'http://reidcarlberg.com/2014/01/31/sample-post-happy-robot-monkey/feed/\n'
+'</wfw:commentRss>\n'
+'<slash:comments>0</slash:comments>\n'
+'<media:content url="http://1.gravatar.com/avatar/11c64463ab809441c83add904bdd20ec?s=96&amp;d=identicon&amp;r=G" medium="image">\n'
+'<media:title type="html">reidcarlberg</media:title>\n'
+'</media:content>\n'
+'</item>\n'        
+'</channel>\n'
+'</rss>\n';    
    
    
}